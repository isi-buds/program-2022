<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Changing Variables</title>
    <meta charset="utf-8" />
    <meta name="author" content="Dr. Mine Dogucu" />
    <meta name="date" content="2022-07-14" />
    <script src="libs/header-attrs-2.14/header-attrs.js"></script>
    <link rel="stylesheet" href="slide-style.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">


class: title-slide

&lt;br&gt;
&lt;br&gt;
# Changing Variables
## Dr. Mine Dogucu
### ISI-BUDS
### 2022-07-14

---


class: center middle

.font150[Review]

---

class: middle

How many panes have we seen in RStudio and what is the purpose of each pane?

---

class: middle

Which of the following files is a markdown file?

a. `example.R`  
b. `example.md`  
c. `example.Rmd`  

---


class: middle

Which of the following is a valid order of actions when starting a project using git and GitHub?

a. clone, commit, push, 

b. push, commit, clone

c. commit, clone, push

d. clone, push, commit

---

class: middle

Which R functions have we learned together?

---

class: middle

What is the formula for variance?

---

class: middle

You are given a data frame called `registrar`. There are two variables you are interested in `class_year` which represents whether someone is a first year, sophomore, junior, or senior and `gpa` which represents GPA. 

How would you find the average GPA for each class rank?

---


class: center middle

.font150[Changing Variables]


---


class: middle







Edward Gracely, “Arthritis Treatment Dataset”, TSHS Resources Portal (2020)


```r
glimpse(arthritis)
```

```
## Rows: 530
## Columns: 14
## $ ID            &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 1…
## $ Age           &lt;dbl&gt; 85, 86, 83, 83, 85, 79, 90, 90, 87, 82, 77, 86, 84, 76, …
## $ AgeGp         &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,…
## $ Sex           &lt;dbl&gt; 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
## $ Yrs_From_Dx   &lt;dbl&gt; 27, 27, 10, 9, NA, NA, 51, 11, 36, 4, 31, NA, 9, 10, 3, …
## $ CDAI          &lt;dbl&gt; NA, 23.0, 14.5, NA, NA, NA, NA, 40.0, 6.0, NA, 0.0, NA, …
## $ CDAI_YN       &lt;dbl&gt; 1, 2, 2, 1, 1, 1, 1, 2, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1,…
## $ DAS_28        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2.44…
## $ DAS28_YN      &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1,…
## $ Steroids_GT_5 &lt;dbl&gt; 0, 1, 1, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,…
## $ DMARDs        &lt;dbl&gt; 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 0, 1, 1, 0, 0, 0, 0, 1,…
## $ Biologics     &lt;dbl&gt; 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0,…
## $ sDMARDS       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
## $ OsteopScreen  &lt;dbl&gt; 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
```


---

class: middle

`clean_names()` makes variable names in tidy style.


```r
arthritis &lt;- clean_names(arthritis)
glimpse(arthritis)
```

```
## Rows: 530
## Columns: 14
## $ id            &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 1…
## $ age           &lt;dbl&gt; 85, 86, 83, 83, 85, 79, 90, 90, 87, 82, 77, 86, 84, 76, …
## $ age_gp        &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,…
## $ sex           &lt;dbl&gt; 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
## $ yrs_from_dx   &lt;dbl&gt; 27, 27, 10, 9, NA, NA, 51, 11, 36, 4, 31, NA, 9, 10, 3, …
## $ cdai          &lt;dbl&gt; NA, 23.0, 14.5, NA, NA, NA, NA, 40.0, 6.0, NA, 0.0, NA, …
## $ cdai_yn       &lt;dbl&gt; 1, 2, 2, 1, 1, 1, 1, 2, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1,…
## $ das_28        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2.44…
## $ das28_yn      &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1,…
## $ steroids_gt_5 &lt;dbl&gt; 0, 1, 1, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,…
## $ dmar_ds       &lt;dbl&gt; 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 0, 1, 1, 0, 0, 0, 0, 1,…
## $ biologics     &lt;dbl&gt; 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0,…
## $ s_dmards      &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
## $ osteop_screen &lt;dbl&gt; 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
```


---

class: middle

**Goal**: 

Create a new variable called `age_months` that represents `age` in months.

---

class: middle


```r
arthritis %&gt;% 
  mutate(age_months = age*12)
```

```
## # A tibble: 530 × 15
##       id   age age_gp   sex yrs_from_dx  cdai cdai_yn das_28 das28_yn
##    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;
##  1     1    85      2     0          27  NA         1     NA        1
##  2     2    86      2     0          27  23         2     NA        1
##  3     3    83      2     0          10  14.5       2     NA        1
##  4     4    83      2     0           9  NA         1     NA        1
##  5     5    85      2     0          NA  NA         1     NA        1
##  6     6    79      2     1          NA  NA         1     NA        1
##  7     7    90      2     0          51  NA         1     NA        1
##  8     8    90      2     0          11  40         2     NA        1
##  9     9    87      2     0          36   6         2     NA        1
## 10    10    82      2     0           4  NA         1     NA        1
## # … with 520 more rows, and 6 more variables: steroids_gt_5 &lt;dbl&gt;,
## #   dmar_ds &lt;dbl&gt;, biologics &lt;dbl&gt;, s_dmards &lt;dbl&gt;, osteop_screen &lt;dbl&gt;,
## #   age_months &lt;dbl&gt;
```

---

class: middle


```r
glimpse(arthritis)
```

```
## Rows: 530
## Columns: 14
## $ id            &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 1…
## $ age           &lt;dbl&gt; 85, 86, 83, 83, 85, 79, 90, 90, 87, 82, 77, 86, 84, 76, …
## $ age_gp        &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,…
## $ sex           &lt;dbl&gt; 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
## $ yrs_from_dx   &lt;dbl&gt; 27, 27, 10, 9, NA, NA, 51, 11, 36, 4, 31, NA, 9, 10, 3, …
## $ cdai          &lt;dbl&gt; NA, 23.0, 14.5, NA, NA, NA, NA, 40.0, 6.0, NA, 0.0, NA, …
## $ cdai_yn       &lt;dbl&gt; 1, 2, 2, 1, 1, 1, 1, 2, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1,…
## $ das_28        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2.44…
## $ das28_yn      &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1,…
## $ steroids_gt_5 &lt;dbl&gt; 0, 1, 1, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,…
## $ dmar_ds       &lt;dbl&gt; 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 0, 1, 1, 0, 0, 0, 0, 1,…
## $ biologics     &lt;dbl&gt; 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0,…
## $ s_dmards      &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
## $ osteop_screen &lt;dbl&gt; 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
```

**Goal**: 

Create a new variable called `das_level` which has the following categories based on `das_28` scores. 

remission &lt; 2.6  
2.6 `\(\leq\)` low disease activity `\(\leq\)` 3.2  
3.2 &lt; moderate disease activity `\(leq\)` 5.1

high disease activity &gt; 5.1


---



```r
arthritis %&gt;% 
  mutate(das_level = case_when(
    das_28 &lt; 2.6 ~ "remission", 
    das_28 &gt;= 2.6 &amp; das_28 &lt;= 3.2 ~ "low disease activity",
    das_28 &gt; 3.2 &amp; das_28 &lt;= 5.1 ~ "moderate disease activity",
    das_28 &gt; 5.1 ~ "high disease activity")) 
```

```
## # A tibble: 530 × 15
##       id   age age_gp   sex yrs_from_dx  cdai cdai_yn das_28 das28_yn
##    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;
##  1     1    85      2     0          27  NA         1     NA        1
##  2     2    86      2     0          27  23         2     NA        1
##  3     3    83      2     0          10  14.5       2     NA        1
##  4     4    83      2     0           9  NA         1     NA        1
##  5     5    85      2     0          NA  NA         1     NA        1
##  6     6    79      2     1          NA  NA         1     NA        1
##  7     7    90      2     0          51  NA         1     NA        1
##  8     8    90      2     0          11  40         2     NA        1
##  9     9    87      2     0          36   6         2     NA        1
## 10    10    82      2     0           4  NA         1     NA        1
## # … with 520 more rows, and 6 more variables: steroids_gt_5 &lt;dbl&gt;,
## #   dmar_ds &lt;dbl&gt;, biologics &lt;dbl&gt;, s_dmards &lt;dbl&gt;, osteop_screen &lt;dbl&gt;,
## #   das_level &lt;chr&gt;
```


---

class: middle

## (Some) Variable Types in R

`character`: takes string values (e.g. a person's name, address)  
`integer`: integer (single precision)  
`double`: floating decimal (double precision)  
`numeric`: integer or double  
`factor`: categorical variables with different levels  
`logical`: TRUE (1), FALSE (0)  

---

class: middle


```r
glimpse(arthritis)
```

```
## Rows: 530
## Columns: 14
## $ id            &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 1…
## $ age           &lt;dbl&gt; 85, 86, 83, 83, 85, 79, 90, 90, 87, 82, 77, 86, 84, 76, …
## $ age_gp        &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,…
## $ sex           &lt;dbl&gt; 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
## $ yrs_from_dx   &lt;dbl&gt; 27, 27, 10, 9, NA, NA, 51, 11, 36, 4, 31, NA, 9, 10, 3, …
## $ cdai          &lt;dbl&gt; NA, 23.0, 14.5, NA, NA, NA, NA, 40.0, 6.0, NA, 0.0, NA, …
## $ cdai_yn       &lt;dbl&gt; 1, 2, 2, 1, 1, 1, 1, 2, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1,…
## $ das_28        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2.44…
## $ das28_yn      &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1,…
## $ steroids_gt_5 &lt;dbl&gt; 0, 1, 1, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,…
## $ dmar_ds       &lt;dbl&gt; 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 0, 1, 1, 0, 0, 0, 0, 1,…
## $ biologics     &lt;dbl&gt; 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0,…
## $ s_dmards      &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
## $ osteop_screen &lt;dbl&gt; 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
```

**Goal**: 

Change `das_28_yn` and `age_gp` to appropriate variable types. 


---

class: middle


```r
arthritis %&gt;% 
  mutate(das28_yn = as.logical(das28_yn),
         age_gp = as.factor(age_gp)) 
```

```
## # A tibble: 530 × 14
##       id   age age_gp   sex yrs_from_dx  cdai cdai_yn das_28 das28_yn
##    &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt;  &lt;dbl&gt;       &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;lgl&gt;   
##  1     1    85 2          0          27  NA         1     NA TRUE    
##  2     2    86 2          0          27  23         2     NA TRUE    
##  3     3    83 2          0          10  14.5       2     NA TRUE    
##  4     4    83 2          0           9  NA         1     NA TRUE    
##  5     5    85 2          0          NA  NA         1     NA TRUE    
##  6     6    79 2          1          NA  NA         1     NA TRUE    
##  7     7    90 2          0          51  NA         1     NA TRUE    
##  8     8    90 2          0          11  40         2     NA TRUE    
##  9     9    87 2          0          36   6         2     NA TRUE    
## 10    10    82 2          0           4  NA         1     NA TRUE    
## # … with 520 more rows, and 5 more variables: steroids_gt_5 &lt;dbl&gt;,
## #   dmar_ds &lt;dbl&gt;, biologics &lt;dbl&gt;, s_dmards &lt;dbl&gt;, osteop_screen &lt;dbl&gt;
```

---

class: middle

`as.factor()` - makes a vector factor  
`as.numeric()` - makes a vector numeric  
`as.integer()` - makes a vector integer  
`as.double()` - makes a vector double  
`as.character()` - makes a vector character  

---


In your lecture notes, you can do all the changes in this lecture in one long set of piped code. That's the beauty of piping!


```r
arthritis &lt;- 
  arthritis %&gt;% 
  clean_names() %&gt;% 
    mutate(das_level = case_when(
    das_28 &lt; 2.6 ~ "remission", 
    das_28 &gt;= 2.6 &amp; das_28 &lt;= 3.2 ~ "low disease activity",
    das_28 &gt; 3.2 &amp; das_28 &lt;= 5.1 ~ "moderate disease activity",
    das_28 &gt; 5.1 ~ "high disease activity")) %&gt;% 
  mutate(das28_yn = as.logical(das28_yn),
         age_gp = as.factor(age_gp)) 
```

---

class: middle

## Word of caution

The functions `clean_names()`, and `mutate()` all take a data frame as the first argument. Even though we do not see it, the data frame is piped through from the previous step of code at each step. 
When we use these functions without the `%&gt;%` we have to include the data frame explicitly.


.pull-left[
Data frame is used as the first argument

```r
clean_names(arthritis)
```

```
## # A tibble: 530 × 14
##       id   age age_gp   sex yrs_from_dx  cdai cdai_yn das_28 das28_yn
##    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;
##  1     1    85      2     0          27  NA         1     NA        1
##  2     2    86      2     0          27  23         2     NA        1
##  3     3    83      2     0          10  14.5       2     NA        1
##  4     4    83      2     0           9  NA         1     NA        1
##  5     5    85      2     0          NA  NA         1     NA        1
##  6     6    79      2     1          NA  NA         1     NA        1
##  7     7    90      2     0          51  NA         1     NA        1
##  8     8    90      2     0          11  40         2     NA        1
##  9     9    87      2     0          36   6         2     NA        1
## 10    10    82      2     0           4  NA         1     NA        1
## # … with 520 more rows, and 5 more variables: steroids_gt_5 &lt;dbl&gt;,
## #   dmar_ds &lt;dbl&gt;, biologics &lt;dbl&gt;, s_dmards &lt;dbl&gt;, osteop_screen &lt;dbl&gt;
```
]

.pull-right[
Data frame is piped


```r
arthritis %&gt;% 
  clean_names()
```

```
## # A tibble: 530 × 14
##       id   age age_gp   sex yrs_from_dx  cdai cdai_yn das_28 das28_yn
##    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;
##  1     1    85      2     0          27  NA         1     NA        1
##  2     2    86      2     0          27  23         2     NA        1
##  3     3    83      2     0          10  14.5       2     NA        1
##  4     4    83      2     0           9  NA         1     NA        1
##  5     5    85      2     0          NA  NA         1     NA        1
##  6     6    79      2     1          NA  NA         1     NA        1
##  7     7    90      2     0          51  NA         1     NA        1
##  8     8    90      2     0          11  40         2     NA        1
##  9     9    87      2     0          36   6         2     NA        1
## 10    10    82      2     0           4  NA         1     NA        1
## # … with 520 more rows, and 5 more variables: steroids_gt_5 &lt;dbl&gt;,
## #   dmar_ds &lt;dbl&gt;, biologics &lt;dbl&gt;, s_dmards &lt;dbl&gt;, osteop_screen &lt;dbl&gt;
```
]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "pygments",
"highlightLines": true,
"highlightLanguage": "r"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
